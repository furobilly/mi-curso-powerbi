<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Power BI: De 0 a Experto | Tu Transformaci√≥n Profesional</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --primary: #f2c811;
            --secondary: #1e1e1e;
            --success: #4CAF50;
            --danger: #f44336;
            --info: #2196F3;
            --dark: #0a0e27;
            --light: #f5f5f5;
            --gradient: linear-gradient(135deg, #f2c811 0%, #ffb400 100%);
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
            background: var(--dark);
            color: #fff;
            line-height: 1.6;
            transition: all 0.3s ease;
        }
        
        body.light-mode {
            background: var(--light);
            color: #333;
        }
        
        /* Header Power BI Style */
        header {
            background: linear-gradient(135deg, #f2c811 0%, #ffb400 50%, #ff6b00 100%);
            padding: 3rem 2rem;
            text-align: center;
            position: relative;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
        }
        
        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><rect x="0" y="0" width="100" height="100" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="0.5"/><line x1="0" y1="0" x2="100" y2="100" stroke="rgba(255,255,255,0.1)" stroke-width="0.5"/></svg>');
            background-size: 20px 20px;
            animation: grid-move 20s linear infinite;
        }
        
        @keyframes grid-move {
            0% { transform: translate(0, 0); }
            100% { transform: translate(20px, 20px); }
        }
        
        header h1 {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            position: relative;
            z-index: 1;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            animation: glow 2s ease-in-out infinite alternate;
        }
        
        @keyframes glow {
            from { text-shadow: 0 0 10px #fff, 0 0 20px #fff, 0 0 30px #f2c811; }
            to { text-shadow: 0 0 20px #fff, 0 0 30px #ff6b00, 0 0 40px #ff6b00; }
        }
        
        /* Gamification Bar */
        .gamification-bar {
            background: rgba(0,0,0,0.3);
            padding: 1rem;
            display: flex;
            justify-content: space-around;
            align-items: center;
            position: relative;
            z-index: 10;
            flex-wrap: wrap;
        }
        
        .game-stat {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: rgba(255,255,255,0.1);
            border-radius: 20px;
            transition: transform 0.3s;
        }
        
        .game-stat:hover {
            transform: scale(1.05);
        }
        
        .game-stat i {
            font-size: 1.5rem;
        }
        
        /* Progress System */
        .progress-container {
            background: rgba(0,0,0,0.3);
            border-radius: 15px;
            margin: 1.5rem auto;
            max-width: 800px;
            padding: 3px;
            position: relative;
            z-index: 1;
        }
        
        .progress-bar {
            background: linear-gradient(90deg, #4CAF50 0%, #8BC34A 50%, #CDDC39 100%);
            height: 40px;
            border-radius: 12px;
            width: 0%;
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #333;
            font-weight: bold;
            font-size: 1.1rem;
            position: relative;
            overflow: hidden;
        }
        
        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            right: 0;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(255, 255, 255, 0.4),
                transparent
            );
            animation: shimmer 2s infinite;
        }
        
        /* Study Timer */
        .study-timer {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--secondary);
            padding: 1rem;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.5);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .timer-display {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary);
        }
        
        /* Navigation */
        nav {
            background: rgba(30,30,30,0.95);
            padding: 1rem;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
            backdrop-filter: blur(10px);
        }
        
        nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        nav a {
            text-decoration: none;
            color: #fff;
            font-weight: 500;
            padding: 0.5rem 1.5rem;
            border-radius: 25px;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: rgba(255,255,255,0.05);
        }
        
        nav a:hover {
            background: var(--gradient);
            color: var(--secondary);
            transform: translateY(-2px);
        }
        
        /* Container */
        .container {
            max-width: 1400px;
            margin: 2rem auto;
            padding: 0 1rem;
        }
        
        /* Module Cards */
        .module {
            background: rgba(30,30,30,0.9);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            border: 1px solid rgba(242,200,17,0.3);
            position: relative;
            overflow: hidden;
            transition: all 0.3s;
        }
        
        .module:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(242,200,17,0.3);
        }
        
        .module::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: var(--gradient);
        }
        
        .module-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }
        
        .module h2 {
            font-size: 2rem;
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .module-icon {
            font-size: 2.5rem;
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        /* Lesson Cards */
        .lesson {
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            padding: 1.5rem;
            margin: 1rem 0;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
            position: relative;
        }
        
        .lesson:hover {
            background: rgba(255,255,255,0.1);
            border-color: var(--primary);
            transform: translateX(10px);
        }
        
        .lesson.completed {
            border-color: var(--success);
            background: rgba(76,175,80,0.1);
        }
        
        .lesson.completed::after {
            content: '‚úì';
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 2rem;
            color: var(--success);
        }
        
        .lesson-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }
        
        .lesson-meta {
            display: flex;
            gap: 1rem;
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        .lesson-content {
            display: none;
            margin-top: 1.5rem;
            animation: slideDown 0.3s ease-out;
        }
        
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .lesson.active .lesson-content {
            display: block;
        }
        
        /* Resources Grid */
        .resources-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin: 1.5rem 0;
        }
        
        .resource-card {
            background: rgba(255,255,255,0.05);
            padding: 1.5rem;
            border-radius: 15px;
            text-align: center;
            transition: all 0.3s;
            border: 2px solid transparent;
        }
        
        .resource-card:hover {
            background: rgba(255,255,255,0.1);
            transform: translateY(-5px);
            border-color: var(--primary);
        }
        
        .resource-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: var(--primary);
        }
        
        /* Quiz System */
        .quiz-container {
            background: rgba(33,150,243,0.1);
            padding: 2rem;
            border-radius: 15px;
            margin: 1.5rem 0;
            border: 2px solid rgba(33,150,243,0.3);
        }
        
        .quiz-question {
            font-size: 1.2rem;
            margin-bottom: 1.5rem;
            font-weight: 500;
        }
        
        .quiz-options {
            display: grid;
            gap: 1rem;
        }
        
        .quiz-option {
            background: rgba(255,255,255,0.05);
            padding: 1.2rem;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .quiz-option:hover {
            background: rgba(255,255,255,0.1);
            border-color: var(--info);
            transform: translateX(5px);
        }
        
        .quiz-option.correct {
            background: rgba(76,175,80,0.2);
            border-color: var(--success);
        }
        
        .quiz-option.incorrect {
            background: rgba(244,67,54,0.2);
            border-color: var(--danger);
        }
        
        /* Buttons */
        .btn {
            display: inline-block;
            padding: 0.8rem 2rem;
            border-radius: 30px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s;
            margin: 0.5rem;
            border: none;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }
        
        .btn-primary {
            background: var(--gradient);
            color: var(--secondary);
        }
        
        .btn-success {
            background: linear-gradient(135deg, #4CAF50 0%, #8BC34A 100%);
            color: white;
        }
        
        .btn-info {
            background: linear-gradient(135deg, #2196F3 0%, #03A9F4 100%);
            color: white;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.4);
        }
        
        /* Code Blocks */
        pre {
            background: #1e1e1e;
            border: 1px solid rgba(242,200,17,0.3);
            padding: 1.5rem;
            border-radius: 10px;
            overflow-x: auto;
            margin: 1rem 0;
            position: relative;
        }
        
        code {
            color: #f2c811;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 0.95rem;
        }
        
        .code-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        
        /* Badges System */
        .badge {
            display: inline-block;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
            margin: 0.2rem;
        }
        
        .badge-new {
            background: var(--danger);
            color: white;
        }
        
        .badge-points {
            background: var(--primary);
            color: var(--secondary);
        }
        
        .badge-time {
            background: var(--info);
            color: white;
        }
        
        /* Certificate */
        .certificate {
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            padding: 3rem;
            border-radius: 20px;
            text-align: center;
            margin: 2rem 0;
            position: relative;
            overflow: hidden;
            color: var(--secondary);
        }
        
        .certificate::before {
            content: 'üèÜ';
            position: absolute;
            font-size: 10rem;
            opacity: 0.1;
            right: -2rem;
            top: -2rem;
        }
        
        /* Theme Toggle */
        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255,255,255,0.2);
            border-radius: 30px;
            padding: 0.5rem;
            cursor: pointer;
            z-index: 1000;
            transition: all 0.3s;
        }
        
        .theme-toggle:hover {
            background: rgba(255,255,255,0.3);
            transform: scale(1.1);
        }
        
        /* Notes System */
        .notes-container {
            background: rgba(255,255,255,0.05);
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1rem 0;
        }
        
        .notes-textarea {
            width: 100%;
            min-height: 100px;
            background: rgba(0,0,0,0.3);
            border: 1px solid rgba(242,200,17,0.3);
            border-radius: 8px;
            padding: 1rem;
            color: white;
            resize: vertical;
        }
        
        /* Exercise Cards */
        .exercise-card {
            background: linear-gradient(135deg, rgba(242,200,17,0.1) 0%, rgba(255,107,0,0.1) 100%);
            border: 2px solid rgba(242,200,17,0.5);
            padding: 2rem;
            border-radius: 15px;
            margin: 1.5rem 0;
        }
        
        .exercise-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        
        .exercise-icon {
            font-size: 2rem;
            color: var(--primary);
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            header h1 {
                font-size: 2rem;
            }
            
            .gamification-bar {
                gap: 0.5rem;
            }
            
            .game-stat {
                font-size: 0.9rem;
                padding: 0.3rem 0.8rem;
            }
            
            .module {
                padding: 1rem;
            }
            
            .study-timer {
                bottom: 10px;
                right: 10px;
                padding: 0.8rem;
            }
        }
        
        /* Animations */
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        /* Module Status */
        .module-status {
            padding: 0.5rem 1.5rem;
            border-radius: 25px;
            font-size: 0.9rem;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .status-current {
            background: var(--gradient);
            color: var(--secondary);
        }
        
        .status-completed {
            background: linear-gradient(135deg, #4CAF50 0%, #8BC34A 100%);
            color: white;
        }
        
        .status-locked {
            background: rgba(255,255,255,0.2);
            color: #999;
        }
        
        /* Video Container */
        .video-container {
            position: relative;
            padding-bottom: 56.25%;
            height: 0;
            overflow: hidden;
            margin: 1rem 0;
            border-radius: 10px;
        }
        
        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
            border-radius: 10px;
        }
        
        /* Table Styles */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
            background: rgba(255,255,255,0.05);
            border-radius: 10px;
            overflow: hidden;
        }
        
        th, td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        
        th {
            background: rgba(242,200,17,0.2);
            font-weight: bold;
        }
        
        tr:hover {
            background: rgba(255,255,255,0.05);
        }
    </style>
</head>
<body>
    <!-- Theme Toggle -->
    <div class="theme-toggle" onclick="toggleTheme()" title="Cambiar tema">
        <span id="themeIcon">üåô</span>
    </div>

    <!-- Header -->
    <header>
        <h1>‚ö° Power BI: De 0 a Experto</h1>
        <p style="font-size: 1.3rem; margin-bottom: 1rem;">Tu Transformaci√≥n Profesional en Business Intelligence</p>
        
        <!-- Gamification Stats -->
        <div class="gamification-bar">
            <div class="game-stat">
                <span>üèÜ</span>
                <span id="userLevel">Nivel 1: Principiante</span>
            </div>
            <div class="game-stat">
                <span>‚≠ê</span>
                <span id="userPoints">0 XP</span>
            </div>
            <div class="game-stat">
                <span>üî•</span>
                <span id="userStreak">0 d√≠as seguidos</span>
            </div>
            <div class="game-stat">
                <span>üéñÔ∏è</span>
                <span id="userBadges">0 insignias</span>
            </div>
        </div>
        
        <button class="btn btn-primary pulse" onclick="startCourse()" id="startButton">
            üöÄ COMENZAR MI TRANSFORMACI√ìN
        </button>
        
        <div class="progress-container">
            <div class="progress-bar" id="progressBar">0% Completado</div>
        </div>
        
        <p style="position: relative; z-index: 1; margin-top: 1rem;">
            <span id="courseStatus">üìÖ 12 semanas | üíº 7 m√≥dulos | üéØ 1 proyecto final</span>
        </p>
    </header>

    <!-- Study Timer -->
    <div class="study-timer">
        <div class="timer-display" id="studyTimer">00:00:00</div>
        <button class="btn btn-success" onclick="toggleTimer()">‚ñ∂Ô∏è Iniciar</button>
    </div>

    <!-- Navigation -->
    <nav>
        <ul>
            <li><a href="#modulo1">üìö M1: Fundamentos</a></li>
            <li><a href="#modulo2">üîÑ M2: Transformaci√≥n</a></li>
            <li><a href="#modulo3">üîó M3: Modelado</a></li>
            <li><a href="#modulo4">üßÆ M4: DAX B√°sico</a></li>
            <li><a href="#modulo5">üìä M5: Visualizaciones</a></li>
            <li><a href="#modulo6">üöÄ M6: DAX Avanzado</a></li>
            <li><a href="#modulo7">‚òÅÔ∏è M7: Service</a></li>
            <li><a href="#proyecto">üèÜ Proyecto Final</a></li>
            <li><a href="#recursos">üìö Recursos</a></li>
        </ul>
    </nav>

    <!-- Main Content -->
    <div class="container">
        <!-- Welcome Section -->
        <div class="module fade-in">
            <h2>üéØ Objetivos del Programa</h2>
            <p style="font-size: 1.1rem; margin-bottom: 1.5rem;">
                Al finalizar este programa intensivo de 12 semanas ser√°s capaz de:
            </p>
            <div class="resources-grid">
                <div class="resource-card">
                    <div class="resource-icon">üìä</div>
                    <h4>Dashboards Profesionales</h4>
                    <p>Crear visualizaciones interactivas de alto impacto</p>
                </div>
                <div class="resource-card">
                    <div class="resource-icon">üîó</div>
                    <h4>Modelado Complejo</h4>
                    <p>Dise√±ar modelos de datos escalables y eficientes</p>
                </div>
                <div class="resource-card">
                    <div class="resource-icon">üßÆ</div>
                    <h4>DAX Avanzado</h4>
                    <p>Dominar las f√≥rmulas y c√°lculos complejos</p>
                </div>
                <div class="resource-card">
                    <div class="resource-icon">üîÑ</div>
                    <h4>Automatizaci√≥n</h4>
                    <p>Implementar procesos autom√°ticos de actualizaci√≥n</p>
                </div>
                <div class="resource-card">
                    <div class="resource-icon">üí°</div>
                    <h4>Insights de Negocio</h4>
                    <p>Presentar an√°lisis que generen valor real</p>
                </div>
                <div class="resource-card">
                    <div class="resource-icon">üèÜ</div>
                    <h4>Certificaci√≥n</h4>
                    <p>Prepararte para Microsoft PL-300</p>
                </div>
            </div>
        </div>

        <!-- M√ìDULO 1 -->
        <div class="module fade-in" id="modulo1">
            <div class="module-header">
                <h2><span class="module-icon">üìö</span> M√≥dulo 1: Fundamentos y Configuraci√≥n</h2>
                <span class="module-status status-current">SEMANA 1</span>
            </div>
            
            <div class="exercise-card">
                <h3>üéØ Objetivos del M√≥dulo</h3>
                <ul>
                    <li>Comprender el ecosistema completo de Power BI (Desktop, Service, Mobile)</li>
                    <li>Dominar conceptos fundamentales de Business Intelligence</li>
                    <li>Configurar el entorno de trabajo profesional</li>
                    <li>Realizar tus primeras conexiones y visualizaciones</li>
                </ul>
            </div>

            <!-- Lecci√≥n 1.1 -->
            <div class="lesson" onclick="toggleLesson(this)">
                <div class="lesson-header">
                    <h3>
                        <input type="checkbox" id="lesson1-1" onchange="updateProgress()">
                        <span>üìñ Lecci√≥n 1.1: ¬øQu√© es Power BI?</span>
                    </h3>
                    <div class="lesson-meta">
                        <span class="badge badge-time">‚è±Ô∏è 30 min</span>
                        <span class="badge badge-points">+50 XP</span>
                    </div>
                </div>
                <p>Comprende el ecosistema completo y por qu√© es l√≠der en BI</p>
                
                <div class="lesson-content">
                    <h4>üéì Contenido Te√≥rico</h4>
                    <ul>
                        <li><strong>Power BI Desktop:</strong> Herramienta de desarrollo local</li>
                        <li><strong>Power BI Service:</strong> Plataforma en la nube para compartir</li>
                        <li><strong>Power BI Mobile:</strong> Acceso desde cualquier dispositivo</li>
                        <li><strong>Power BI Report Server:</strong> Soluci√≥n on-premise</li>
                    </ul>

                    <div class="video-container">
                        <iframe src="https://www.youtube.com/embed/yKTSLffVGbk" allowfullscreen></iframe>
                    </div>

                    <div class="resources-grid">
                        <div class="resource-card">
                            <div class="resource-icon">üìÑ</div>
                            <h4>Gu√≠a Ecosistema Power BI</h4>
                            <a href="#" class="btn btn-primary">Descargar PDF</a>
                        </div>
                        <div class="resource-card">
                            <div class="resource-icon">üé•</div>
                            <h4>Video: Intro a Power BI</h4>
                            <a href="https://www.youtube.com/results?search_query=que+es+power+bi+espa√±ol" target="_blank" class="btn btn-info">Ver en YouTube</a>
                        </div>
                        <div class="resource-card">
                            <div class="resource-icon">üìä</div>
                            <h4>Casos de √âxito</h4>
                            <a href="#" class="btn btn-success">Ver Ejemplos</a>
                        </div>
                    </div>

                    <div class="quiz-container">
                        <h4>üß† Mini-Test: Ecosistema Power BI</h4>
                        <div class="quiz-question">
                            ¬øCu√°l es la herramienta principal para crear reportes en Power BI?
                        </div>
                        <div class="quiz-options">
                            <div class="quiz-option" onclick="checkAnswer(this, true, 'q1-1')">
                                <span>A)</span> Power BI Desktop
                            </div>
                            <div class="quiz-option" onclick="checkAnswer(this, false, 'q1-1')">
                                <span>B)</span> Power BI Service
                            </div>
                            <div class="quiz-option" onclick="checkAnswer(this, false, 'q1-1')">
                                <span>C)</span> Power BI Mobile
                            </div>
                        </div>
                    </div>

                    <div class="notes-container">
                        <h4>üìù Mis Notas</h4>
                        <textarea class="notes-textarea" placeholder="Escribe aqu√≠ tus notas sobre esta lecci√≥n..." onchange="saveNotes('lesson1-1', this.value)"></textarea>
                    </div>
                </div>
            </div>

            <!-- Lecci√≥n 1.2 -->
            <div class="lesson" onclick="toggleLesson(this)">
                <div class="lesson-header">
                    <h3>
                        <input type="checkbox" id="lesson1-2" onchange="updateProgress()">
                        <span>üõ†Ô∏è Lecci√≥n 1.2: Instalaci√≥n y Configuraci√≥n</span>
                    </h3>
                    <div class="lesson-meta">
                        <span class="badge badge-time">‚è±Ô∏è 25 min</span>
                        <span class="badge badge-points">+75 XP</span>
                    </div>
                </div>
                <p>Configura tu entorno de trabajo como un profesional</p>
                
                <div class="lesson-content">
                    <h4>üì• Proceso de Instalaci√≥n</h4>
                    
                    <div class="code-header">
                        <span>Requisitos del Sistema</span>
                        <button class="btn btn-info" onclick="copyCode(this)">üìã Copiar</button>
                    </div>
                    <pre><code>üíª Hardware M√≠nimo:
- Procesador: Intel i5 o AMD Ryzen 5
- RAM: 8GB (recomendado 16GB)
- Almacenamiento: 10GB disponibles
- Sistema: Windows 10/11 64-bit

üîó Descarga oficial:
https://powerbi.microsoft.com/desktop</code></pre>

                    <div class="exercise-card">
                        <div class="exercise-header">
                            <span class="exercise-icon">üí°</span>
                            <h4>Ejercicio Pr√°ctico: Primera Instalaci√≥n</h4>
                        </div>
                        <ol>
                            <li>Descarga Power BI Desktop desde el sitio oficial</li>
                            <li>Ejecuta el instalador con permisos de administrador</li>
                            <li>Selecciona idioma espa√±ol</li>
                            <li>Completa la instalaci√≥n (5-10 minutos)</li>
                            <li>Abre Power BI y explora la interfaz</li>
                        </ol>
                    </div>

                    <div class="resources-grid">
                        <div class="resource-card">
                            <div class="resource-icon">üîß</div>
                            <h4>Gu√≠a de Instalaci√≥n</h4>
                            <a href="#" class="btn btn-primary">Descargar</a>
                        </div>
                        <div class="resource-card">
                            <div class="resource-icon">‚ùì</div>
                            <h4>Troubleshooting</h4>
                            <a href="#" class="btn btn-info">Ver Soluciones</a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Ejercicio 1 -->
            <div class="lesson" onclick="toggleLesson(this)">
                <div class="lesson-header">
                    <h3>
                        <input type="checkbox" id="exercise1-1" onchange="updateProgress()">
                        <span>üíº Ejercicio 1: Mi Primera Conexi√≥n</span>
                    </h3>
                    <div class="lesson-meta">
                        <span class="badge badge-time">‚è±Ô∏è 45 min</span>
                        <span class="badge badge-points">+100 XP</span>
                        <span class="badge badge-new">NUEVO</span>
                    </div>
                </div>
                <p>Conecta Excel a Power BI y crea tu primer reporte</p>
                
                <div class="lesson-content">
                    <div class="exercise-card">
                        <h4>üìã Escenario</h4>
                        <p><strong>Rol:</strong> Analista de una tienda local de electr√≥nicos</p>
                        <p><strong>Objetivo:</strong> Crear un reporte b√°sico de ventas mensuales</p>
                        <p><strong>Datos:</strong> Archivo Excel con ventas 2023-2024</p>
                    </div>

                    <div class="resources-grid">
                        <div class="resource-card">
                            <div class="resource-icon">üìä</div>
                            <h4>Dataset: Ventas Tienda</h4>
                            <a href="https://github.com/yourusername/powerbi-course/raw/main/datasets/ventas_tienda.xlsx" class="btn btn-primary">Descargar Excel</a>
                        </div>
                        <div class="resource-card">
                            <div class="resource-icon">üìπ</div>
                            <h4>Video Tutorial</h4>
                            <a href="#" class="btn btn-info">Ver Soluci√≥n</a>
                        </div>
                    </div>

                    <h4>üìù Tareas a Completar</h4>
                    <ol>
                        <li>
                            <strong>Conectar datos:</strong>
                            <ul>
                                <li>Abrir Power BI Desktop</li>
                                <li>Obtener datos ‚Üí Excel</li>
                                <li>Seleccionar archivo ventas_tienda.xlsx</li>
                                <li>Cargar tabla "Ventas2024"</li>
                            </ul>
                        </li>
                        <li>
                            <strong>Explorar datos:</strong>
                            <ul>
                                <li>Vista de tabla ‚Üí revisar columnas</li>
                                <li>Identificar tipos de datos</li>
                                <li>Verificar calidad (nulos, errores)</li>
                            </ul>
                        </li>
                        <li>
                            <strong>Crear visualizaciones:</strong>
                            <ul>
                                <li>Gr√°fico de columnas: Ventas por mes</li>
                                <li>Tarjeta: Total de ventas</li>
                                <li>Gr√°fico circular: Ventas por categor√≠a</li>
                            </ul>
                        </li>
                    </ol>

                    <pre><code>// C√≥digo DAX para tu primera medida
Total Ventas = SUM(Ventas2024[Monto])

// Promedio de ventas
Promedio Ventas = AVERAGE(Ventas2024[Monto])

// Conteo de transacciones
N√∫mero Ventas = COUNT(Ventas2024[ID_Venta])</code></pre>

                    <div class="quiz-container">
                        <h4>‚úÖ Checklist de Validaci√≥n</h4>
                        <div style="margin-left: 1rem;">
                            <label><input type="checkbox"> Datos cargados correctamente</label><br>
                            <label><input type="checkbox"> 3 visualizaciones creadas</label><br>
                            <label><input type="checkbox"> Medidas DAX implementadas</label><br>
                            <label><input type="checkbox"> Formato aplicado a gr√°ficos</label><br>
                            <label><input type="checkbox"> T√≠tulo agregado al reporte</label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Evaluaci√≥n M√≥dulo 1 -->
            <div class="lesson" onclick="toggleLesson(this)">
                <div class="lesson-header">
                    <h3>
                        <span>üéØ Evaluaci√≥n M√≥dulo 1</span>
                    </h3>
                    <div class="lesson-meta">
                        <span class="badge badge-time">‚è±Ô∏è 60 min</span>
                        <span class="badge badge-points">+200 XP</span>
                    </div>
                </div>
                <p>Demuestra lo aprendido con un examen te√≥rico y pr√°ctico</p>
                
                <div class="lesson-content">
                    <div class="quiz-container">
                        <h4>üìù Examen Te√≥rico (20 preguntas)</h4>
                        <p>Temas incluidos:</p>
                        <ul>
                            <li>Componentes del ecosistema Power BI</li>
                            <li>Tipos de visualizaciones b√°sicas</li>
                            <li>Conceptos fundamentales de BI</li>
                            <li>Proceso de conexi√≥n de datos</li>
                        </ul>
                        <button class="btn btn-primary" onclick="startExam('module1')">Comenzar Examen</button>
                    </div>

                    <div class="exercise-card">
                        <h4>üíª Examen Pr√°ctico</h4>
                        <p><strong>Tiempo l√≠mite:</strong> 45 minutos</p>
                        <p><strong>Requisitos:</strong></p>
                        <ol>
                            <li>Conectar el dataset proporcionado</li>
                            <li>Crear 3 visualizaciones diferentes</li>
                            <li>Implementar 2 medidas DAX b√°sicas</li>
                            <li>Aplicar formato profesional</li>
                            <li>Exportar como PDF</li>
                        </ol>
                        <p><strong>Criterio de aprobaci√≥n:</strong> 70% en ambos ex√°menes</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- M√ìDULO 2 -->
        <div class="module fade-in" id="modulo2">
            <div class="module-header">
                <h2><span class="module-icon">üîÑ</span> M√≥dulo 2: Transformaci√≥n de Datos con Power Query</h2>
                <span class="module-status status-locked">SEMANAS 2-3</span>
            </div>
            
            <div class="exercise-card">
                <h3>üéØ Objetivos del M√≥dulo</h3>
                <ul>
                    <li>Dominar Power Query Editor para limpieza de datos</li>
                    <li>Aplicar transformaciones avanzadas</li>
                    <li>Combinar m√∫ltiples fuentes de datos</li>
                    <li>Automatizar procesos de ETL</li>
                </ul>
                <p style="text-align: center; margin-top: 2rem; font-size: 1.2rem;">
                    üîí Completa el 80% del M√≥dulo 1 para desbloquear
                </p>
            </div>
        </div>

        <!-- M√ìDULO 3 -->
        <div class="module fade-in" id="modulo3">
            <div class="module-header">
                <h2><span class="module-icon">üîó</span> M√≥dulo 3: Modelado de Datos</h2>
                <span class="module-status status-locked">SEMANAS 4-5</span>
            </div>
            
            <div class="exercise-card">
                <h3>üéØ Objetivos del M√≥dulo</h3>
                <ul>
                    <li>Dise√±ar modelos dimensionales (esquema estrella)</li>
                    <li>Crear relaciones complejas entre tablas</li>
                    <li>Implementar jerarqu√≠as y roles</li>
                    <li>Optimizar rendimiento del modelo</li>
                </ul>
                <p style="text-align: center; margin-top: 2rem; font-size: 1.2rem;">
                    üîí Completa el M√≥dulo 2 para desbloquear
                </p>
            </div>
        </div>

        <!-- Recursos Globales -->
        <div class="module fade-in" id="recursos">
            <h2>üìö Centro de Recursos</h2>
            
            <div class="resources-grid">
                <div class="resource-card">
                    <div class="resource-icon">üìä</div>
                    <h4>Datasets del Curso</h4>
                    <p>Todos los archivos de pr√°ctica</p>
                    <a href="https://github.com/yourusername/powerbi-course/datasets" class="btn btn-primary">Ir a GitHub</a>
                </div>
                
                <div class="resource-card">
                    <div class="resource-icon">üìñ</div>
                    <h4>Documentaci√≥n Microsoft</h4>
                    <p>Referencia oficial Power BI</p>
                    <a href="https://docs.microsoft.com/power-bi" target="_blank" class="btn btn-info">Visitar</a>
                </div>
                
                <div class="resource-card">
                    <div class="resource-icon">üé•</div>
                    <h4>Playlist YouTube</h4>
                    <p>Videos en espa√±ol del curso</p>
                    <a href="https://youtube.com/playlist?list=YOUR_PLAYLIST" target="_blank" class="btn btn-success">Ver Videos</a>
                </div>
                
                <div class="resource-card">
                    <div class="resource-icon">üí°</div>
                    <h4>DAX Guide</h4>
                    <p>Referencia completa DAX</p>
                    <a href="https://dax.guide" target="_blank" class="btn btn-primary">Explorar</a>
                </div>
                
                <div class="resource-card">
                    <div class="resource-icon">üë•</div>
                    <h4>Comunidad</h4>
                    <p>Grupo de estudio</p>
                    <a href="#" class="btn btn-info">Unirse</a>
                </div>
                
                <div class="resource-card">
                    <div class="resource-icon">üèÜ</div>
                    <h4>Certificaci√≥n PL-300</h4>
                    <p>Gu√≠a de preparaci√≥n</p>
                    <a href="#" class="btn btn-success">Descargar</a>
                </div>
            </div>
        </div>

        <!-- Sistema de Logros -->
        <div class="module fade-in">
            <h2>üèÜ Mis Logros y Certificaciones</h2>
            
            <div class="resources-grid">
                <div class="resource-card">
                    <div class="resource-icon">ü•á</div>
                    <h4>Primera Conexi√≥n</h4>
                    <p>Conectaste tu primer dataset</p>
                    <span class="badge badge-points">+50 XP</span>
                </div>
                
                <div class="resource-card">
                    <div class="resource-icon">üìä</div>
                    <h4>Visualizador</h4>
                    <p>Creaste 10 gr√°ficos diferentes</p>
                    <span class="badge badge-points">+100 XP</span>
                </div>
                
                <div class="resource-card">
                    <div class="resource-icon">üßÆ</div>
                    <h4>Maestro DAX</h4>
                    <p>Dominas 20+ funciones DAX</p>
                    <span class="badge badge-points">+200 XP</span>
                </div>
            </div>

            <div class="certificate" id="certificate" style="display: none;">
                <h2>üéì Certificado de Finalizaci√≥n</h2>
                <h3>Power BI: De 0 a Experto</h3>
                <p>Este certifica que</p>
                <h2 id="userName">[Tu Nombre]</h2>
                <p>Ha completado exitosamente el programa completo de Power BI</p>
                <p><strong>Fecha:</strong> <span id="certDate"></span></p>
                <button class="btn btn-primary" onclick="downloadCertificate()">üì• Descargar PDF</button>
            </div>
        </div>
    </div>

    <script>
        // Variables globales
        let studyTime = 0;
        let timerInterval = null;
        let isTimerRunning = false;
        let userXP = 0;
        let userLevel = 1;
        let userStreak = 0;
        let userBadges = 0;
        let completedLessons = new Set();

        // Funci√≥n para iniciar el curso
        function startCourse() {
            const userName = prompt('¬°Bienvenido! ¬øCu√°l es tu nombre?');
            if (userName) {
                localStorage.setItem('powerbi_userName', userName);
                localStorage.setItem('powerbi_startDate', new Date().toISOString());
                
                document.getElementById('startButton').innerHTML = '‚úÖ Curso Iniciado - ¬°Vamos all√°!';
                document.getElementById('startButton').disabled = true;
                
                // Mensaje motivacional
                showNotification(`¬°Bienvenido ${userName}! üéâ`, 
                    'Tu transformaci√≥n en Power BI comienza ahora. Recuerda: cada experto fue alguna vez un principiante.', 
                    'success');
                
                // Iniciar gamificaci√≥n
                addXP(10);
                updateStreak();
            }
        }

        // Sistema de XP y Niveles
        function addXP(points) {
            userXP += points;
            
            // Calcular nivel (cada 500 XP = 1 nivel)
            const newLevel = Math.floor(userXP / 500) + 1;
            
            if (newLevel > userLevel) {
                userLevel = newLevel;
                showNotification('¬°Subiste de nivel! üéâ', 
                    `Ahora eres nivel ${userLevel}. ¬°Sigue as√≠!`, 'success');
            }
            
            updateGameStats();
            
            // Guardar progreso
            localStorage.setItem('powerbi_xp', userXP);
            localStorage.setItem('powerbi_level', userLevel);
        }

        // Actualizar estad√≠sticas de gamificaci√≥n
        function updateGameStats() {
            document.getElementById('userLevel').textContent = `Nivel ${userLevel}: ${getLevelTitle(userLevel)}`;
            document.getElementById('userPoints').textContent = `${userXP} XP`;
            document.getElementById('userStreak').textContent = `${userStreak} d√≠as seguidos`;
            document.getElementById('userBadges').textContent = `${userBadges} insignias`;
        }

        // Obtener t√≠tulo seg√∫n nivel
        function getLevelTitle(level) {
            const titles = {
                1: 'Principiante',
                2: 'Aprendiz',
                3: 'Analista Junior',
                4: 'Analista',
                5: 'Analista Senior',
                6: 'Especialista BI',
                7: 'Experto BI',
                8: 'Maestro BI',
                9: 'Gur√∫ BI',
                10: 'Leyenda BI'
            };
            return titles[level] || 'Leyenda BI';
        }

        // Toggle lesson content
        function toggleLesson(element) {
            element.classList.toggle('active');
            
            // Si es la primera vez que abre la lecci√≥n, dar XP
            const lessonId = element.querySelector('input[type="checkbox"]')?.id;
            if (lessonId && !completedLessons.has(lessonId)) {
                addXP(10); // XP por abrir lecci√≥n nueva
            }
        }

        // Check quiz answer
        function checkAnswer(element, isCorrect, questionId) {
            const options = element.parentElement.querySelectorAll('.quiz-option');
            
            // Deshabilitar todas las opciones
            options.forEach(opt => {
                opt.style.pointerEvents = 'none';
            });
            
            if (isCorrect) {
                element.classList.add('correct');
                showNotification('¬°Correcto! üéâ', 'Excelente trabajo. Sigue as√≠.', 'success');
                addXP(25); // XP por respuesta correcta
                
                // Marcar lecci√≥n como completada
                const lesson = element.closest('.lesson');
                const checkbox = lesson?.querySelector('input[type="checkbox"]');
                if (checkbox && !checkbox.checked) {
                    checkbox.checked = true;
                    updateProgress();
                }
            } else {
                element.classList.add('incorrect');
                showNotification('No es correcto ü§î', 
                    'No te preocupes, revisa el contenido y vuelve a intentarlo. ¬°Cada error es una oportunidad de aprender!', 
                    'error');
            }
        }

        // Update progress bar
        function updateProgress() {
            const checkboxes = document.querySelectorAll('input[type="checkbox"]');
            const checked = document.querySelectorAll('input[type="checkbox"]:checked');
            const percentage = Math.round((checked.length / checkboxes.length) * 100);
            
            const progressBar = document.getElementById('progressBar');
            progressBar.style.width = percentage + '%';
            progressBar.textContent = percentage + '% Completado';
            
            // Guardar progreso
            localStorage.setItem('powerbi_progress', percentage);
            
            // Guardar estado de cada lecci√≥n
            checkboxes.forEach((cb) => {
                if (cb.checked && !completedLessons.has(cb.id)) {
                    completedLessons.add(cb.id);
                    addXP(50); // XP por completar lecci√≥n
                }
                localStorage.setItem(`powerbi_${cb.id}`, cb.checked);
            });
            
            // Logros por hitos
            if (percentage === 25 && !localStorage.getItem('powerbi_25_achieved')) {
                showNotification('¬°25% Completado! üéØ', 
                    'Un cuarto del camino recorrido. ¬°Vas excelente!', 'success');
                addXP(100);
                userBadges++;
                localStorage.setItem('powerbi_25_achieved', true);
            } else if (percentage === 50 && !localStorage.getItem('powerbi_50_achieved')) {
                showNotification('¬°50% Completado! üåü', 
                    '¬°Llegaste a la mitad! Tu dedicaci√≥n es admirable.', 'success');
                addXP(200);
                userBadges++;
                localStorage.setItem('powerbi_50_achieved', true);
            } else if (percentage === 100 && !localStorage.getItem('powerbi_100_achieved')) {
                showNotification('¬°100% Completado! üèÜ', 
                    '¬°FELICITACIONES! Has completado todo el curso. Eres oficialmente un experto en Power BI.', 'success');
                addXP(500);
                userBadges++;
                localStorage.setItem('powerbi_100_achieved', true);
                showCertificate();
            }
            
            updateGameStats();
        }

        // Study Timer
        function toggleTimer() {
            if (isTimerRunning) {
                clearInterval(timerInterval);
                isTimerRunning = false;
                document.querySelector('.study-timer button').textContent = '‚ñ∂Ô∏è Iniciar';
            } else {
                timerInterval = setInterval(updateTimer, 1000);
                isTimerRunning = true;
                document.querySelector('.study-timer button').textContent = '‚è∏Ô∏è Pausar';
            }
        }

        function updateTimer() {
            studyTime++;
            const hours = Math.floor(studyTime / 3600);
            const minutes = Math.floor((studyTime % 3600) / 60);
            const seconds = studyTime % 60;
            
            document.getElementById('studyTimer').textContent = 
                `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            // Guardar tiempo de estudio
            localStorage.setItem('powerbi_studyTime', studyTime);
            
            // XP por tiempo de estudio (cada 5 minutos)
            if (studyTime % 300 === 0) {
                addXP(15);
                showNotification('¬°5 minutos m√°s! ‚è∞', 
                    'Tu constancia est√° dando frutos. +15 XP', 'info');
            }
        }

        // Theme Toggle
        function toggleTheme() {
            document.body.classList.toggle('light-mode');
            const icon = document.getElementById('themeIcon');
            icon.textContent = document.body.classList.contains('light-mode') ? '‚òÄÔ∏è' : 'üåô';
            localStorage.setItem('powerbi_theme', document.body.classList.contains('light-mode') ? 'light' : 'dark');
        }

        // Save notes
        function saveNotes(lessonId, content) {
            localStorage.setItem(`powerbi_notes_${lessonId}`, content);
            showNotification('Notas guardadas üìù', 'Tus notas se han guardado correctamente', 'info');
        }

        // Show notification
        function showNotification(title, message, type) {
            // Crear elemento de notificaci√≥n
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                left: 50%;
                transform: translateX(-50%);
                background: ${type === 'success' ? '#4CAF50' : type === 'error' ? '#f44336' : '#2196F3'};
                color: white;
                padding: 1.5rem 2rem;
                border-radius: 10px;
                box-shadow: 0 5px 20px rgba(0,0,0,0.3);
                z-index: 10000;
                max-width: 400px;
                text-align: center;
                animation: slideDown 0.3s ease-out;
            `;
            
            notification.innerHTML = `
                <h4 style="margin: 0 0 0.5rem 0; font-size: 1.2rem;">${title}</h4>
                <p style="margin: 0;">${message}</p>
            `;
            
            document.body.appendChild(notification);
            
            // Remover despu√©s de 5 segundos
            setTimeout(() => {
                notification.style.animation = 'fadeOut 0.3s ease-out';
                setTimeout(() => notification.remove(), 300);
            }, 5000);
        }

        // Update streak
        function updateStreak() {
            const lastVisit = localStorage.getItem('powerbi_lastVisit');
            const today = new Date().toDateString();
            
            if (lastVisit !== today) {
                const yesterday = new Date();
                yesterday.setDate(yesterday.getDate() - 1);
                
                if (lastVisit === yesterday.toDateString()) {
                    userStreak++;
                } else {
                    userStreak = 1;
                }
                
                localStorage.setItem('powerbi_streak', userStreak);
                localStorage.setItem('powerbi_lastVisit', today);
                
                if (userStreak > 1) {
                    showNotification(`¬°${userStreak} d√≠as seguidos! üî•`, 
                        'Tu constancia es admirable. ¬°Sigue as√≠!', 'success');
                    addXP(userStreak * 10);
                }
            }
            
            updateGameStats();
        }

        // Show certificate
        function showCertificate() {
            const userName = localStorage.getItem('powerbi_userName') || 'Estudiante';
            const date = new Date().toLocaleDateString('es-ES', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            
            document.getElementById('userName').textContent = userName;
            document.getElementById('certDate').textContent = date;
            document.getElementById('certificate').style.display = 'block';
            document.getElementById('certificate').scrollIntoView({ behavior: 'smooth' });
        }

        // Copy code
        function copyCode(button) {
            const code = button.parentElement.nextElementSibling.textContent;
            navigator.clipboard.writeText(code).then(() => {
                const originalText = button.textContent;
                button.textContent = '‚úÖ Copiado';
                setTimeout(() => {
                    button.textContent = originalText;
                }, 2000);
            });
        }

        // Start exam
        function startExam(moduleId) {
            alert(`Examen del ${moduleId} iniciando...\n\nEsta funci√≥n estar√° disponible pronto. Por ahora, practica con los mini-tests de cada lecci√≥n.`);
        }

        // Download certificate
        function downloadCertificate() {
            alert('La funci√≥n de descarga de certificado estar√° disponible pronto. Por ahora, puedes tomar una captura de pantalla.');
        }

        // Load saved progress on page load
        window.onload = function() {
            // Cargar tema
            const savedTheme = localStorage.getItem('powerbi_theme');
            if (savedTheme === 'light') {
                toggleTheme();
            }
            
            // Cargar progreso
            const savedProgress = localStorage.getItem('powerbi_progress');
            if (savedProgress) {
                const progressBar = document.getElementById('progressBar');
                progressBar.style.width = savedProgress + '%';
                progressBar.textContent = savedProgress + '% Completado';
            }
            
            // Cargar estado de lecciones
            const checkboxes = document.querySelectorAll('input[type="checkbox"]');
            checkboxes.forEach((cb) => {
                const savedState = localStorage.getItem(`powerbi_${cb.id}`);
                if (savedState === 'true') {
                    cb.checked = true;
                    completedLessons.add(cb.id);
                }
            });
            
            // Cargar notas
            document.querySelectorAll('.notes-textarea').forEach(textarea => {
                const lessonId = textarea.closest('.lesson').querySelector('input[type="checkbox"]')?.id;
                if (lessonId) {
                    const savedNotes = localStorage.getItem(`powerbi_notes_${lessonId}`);
                    if (savedNotes) {
                        textarea.value = savedNotes;
                    }
                }
            });
            
            // Cargar gamificaci√≥n
            userXP = parseInt(localStorage.getItem('powerbi_xp')) || 0;
            userLevel = parseInt(localStorage.getItem('powerbi_level')) || 1;
            userStreak = parseInt(localStorage.getItem('powerbi_streak')) || 0;
            studyTime = parseInt(localStorage.getItem('powerbi_studyTime')) || 0;
            
            // Cargar badges
            if (localStorage.getItem('powerbi_25_achieved')) userBadges++;
            if (localStorage.getItem('powerbi_50_achieved')) userBadges++;
            if (localStorage.getItem('powerbi_100_achieved')) userBadges++;
            
            updateGameStats();
            updateStreak();
            
            // Verificar si ya inici√≥ el curso
            const userName = localStorage.getItem('powerbi_userName');
            if (userName) {
                document.getElementById('startButton').innerHTML = '‚úÖ Curso Iniciado - ¬°Contin√∫a tu progreso!';
                document.getElementById('startButton').disabled = true;
            }
            
            // Actualizar timer display
            const hours = Math.floor(studyTime / 3600);
            const minutes = Math.floor((studyTime % 3600) / 60);
            const seconds = studyTime % 60;
            document.getElementById('studyTimer').textContent = 
                `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        };

        // Smooth scroll
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Add CSS animations
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideDown {
                from { transform: translateX(-50%) translateY(-100%); opacity: 0; }
                to { transform: translateX(-50%) translateY(0); opacity: 1; }
            }
            
            @keyframes fadeOut {
                from { opacity: 1; }
                to { opacity: 0; transform: translateX(-50%) translateY(-20px); }
            }
        `;
        document.head.appendChild(style);

        // Auto-save progress every minute
        setInterval(() => {
            if (isTimerRunning) {
                localStorage.setItem('powerbi_lastSave', new Date().toISOString());
            }
        }, 60000);
    </script>
</body>
</html>
